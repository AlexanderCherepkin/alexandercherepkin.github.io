:root{
  --brand: #8cc63e;
  --brand-2: #6ba62f;
  --text: #1a1a1a;
  --muted: #6b7280;
  --bg: #ffffff;
  --bubble-bot: #ffffff;
  --bubble-user: #e8f6d9;
  --radius: 1.25rem;
  --shadow: 0 0.125rem 0.5rem rgba(0,0,0,.08);
  --container: 64rem;
  --gap: 1rem;
}

*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:var(--bg);color:var(--text);font:400 1rem/1.6 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif}
.container{max-width:var(--container);margin:0 auto;padding:0 1rem}

.visually-hidden{position:absolute!important;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0 0 0 0);white-space:nowrap;border:0}

/* Hero */
.chat-hero{background:linear-gradient(180deg,#f0fae8 0%, rgba(240,250,232,0) 100%);padding:2rem 0 1.5rem}
.chat-hero__top{display:grid;grid-template-columns:1fr;gap:.75rem;justify-items:center;text-align:center}
.chat-hero__title{font-size:2rem;line-height:1.2;margin:0}
.chat-hero__subtitle{margin:0;color:var(--muted)}
.chat-quick{display:flex;flex-wrap:wrap;gap:.75rem;justify-content:center;margin-top:1rem}
.chip{display:inline-block;padding:.5rem 1rem;border-radius:999rem;background:#fff;box-shadow:var(--shadow);text-decoration:none;color:var(--text)}
.chip:focus,.chip:hover{outline:2px solid var(--brand);outline-offset:2px}

/* Back button */
.btn{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;border-radius:999rem;border:0;cursor:pointer}
.btn-back{background:#fff;padding:.5rem .875rem;color:var(--text);text-decoration:none;box-shadow:var(--shadow);justify-self:start}
.btn-back:focus,.btn-back:hover{outline:2px solid var(--brand);outline-offset:2px}

/* Chat window */
.chat-window{position:relative;display:flex;flex-direction:column;min-height:50vh;padding:1rem 0 6rem}
.chat-thread{list-style:none;margin:0;padding:1rem;display:flex;flex-direction:column;gap:.75rem;max-height:60vh;overflow:auto;scroll-behavior:smooth;background:#fff;border-radius:var(--radius);box-shadow:var(--shadow)}
.msg{max-width:80%;padding:.75rem 1rem;border-radius:1rem;box-shadow:var(--shadow);position:relative;word-wrap:break-word}
.msg--bot{align-self:flex-start;background:var(--bubble-bot);border-top-left-radius:.375rem}
.msg--user{align-self:flex-end;background:var(--bubble-user);border-top-right-radius:.375rem}
.msg__meta{display:block;margin-top:.25rem;font-size:.875rem;color:var(--muted)}

/* Typing */
.typing{display:flex;align-items:center;gap:.5rem;margin:.75rem 1rem 0;color:var(--muted)}
.dot{width:.5rem;height:.5rem;border-radius:50%;background:var(--muted);opacity:.4;display:inline-block;animation:blink 1.2s infinite}
.dot:nth-child(2){animation-delay:.2s}
.dot:nth-child(3){animation-delay:.4s}
@keyframes blink{0%,80%,100%{opacity:.2}40%{opacity:1}}
.typing__label{font-size:.875rem}

/* Input bar */
.chat-input{position:sticky;bottom:0;left:0;right:0;background:linear-gradient(180deg, rgba(255,255,255,0) 0%, #fff 30%);padding:1rem 0 .5rem}
.chat-input__row{display:grid;grid-template-columns:1fr auto;gap:.75rem;align-items:center}
.chat-input__field{width:100%;padding:.875rem 1rem;border:1px solid #e5e7eb;border-radius:999rem;outline:none}
.chat-input__field:focus{border-color:var(--brand);box-shadow:0 0 0 .2rem rgba(140,198,62,.2)}
.btn-send{background:linear-gradient(180deg, var(--brand) 0%, var(--brand-2) 100%);color:#fff;padding:.875rem 1.25rem;border-radius:999rem}
.btn-send:disabled{opacity:.5;cursor:not-allowed}
.chat-note{margin:.5rem 1rem 0;color:var(--muted);font-size:.875rem}

/* Scroll down floating */
.scroll-down{position:fixed;right:1rem;bottom:6.5rem;border-radius:999rem;width:2.25rem;height:2.25rem;border:1px solid #e5e7eb;background:#fff;box-shadow:var(--shadow);cursor:pointer}
.scroll-down:focus,.scroll-down:hover{outline:2px solid var(--brand);outline-offset:2px}

/* Small screens */
@media (max-width: 40rem){
  .msg{max-width:100%}
  .chat-thread{max-height:55vh}
}
