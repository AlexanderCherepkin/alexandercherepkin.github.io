/* ============ TOKENS ============ */
:root{
  --brand-600: #70d009;
  --brand-500: #86de2b;
  --brand-700: #4da306;
  --ink-900: #0b1220;
  --ink-700: #1f2937;
  --ink-600: #334155;
  --ink-500: #475569;
  --muted-300: #e5e7eb;
  --muted-200: #eef2f7;
  --muted-100: #f7f9fc;
  --bg-grad-1: radial-gradient(80% 80% at 20% 10%, rgba(112,208,9,.35), transparent 60%),
               radial-gradient(80% 80% at 80% 20%, rgba(134,222,43,.25), transparent 60%),
               linear-gradient(180deg, #ffffff 0%, #f7faf9 100%);
  --radius-2xl: 1.6rem;
  --radius-xl: 1.2rem;
  --radius-lg: .8rem;
  --shadow-lg: 0 .6rem 2.4rem rgba(0,0,0,.08);
  --shadow-md: 0 .3rem 1.2rem rgba(0,0,0,.06);
  --container: 108rem;
}

/* ============ BASE ============ */
*{box-sizing:border-box}
html{font-size:62.5%}
body{
  margin:0;
  font-family: Manrope, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji";
  font-size:1.6rem; line-height:1.6;
  color:var(--ink-700); background:var(--bg-grad-1);
}
img{max-width:100%; height:auto; display:block}
a{color:inherit; text-decoration:none}
.section{padding:3.4rem 2rem}
.section-title{font-size:3rem; line-height:1.2; margin:0 0 1.2rem; color:var(--ink-900)}
.section-lead{color:var(--ink-500); text-align:center;}
.container{max-width:var(--container); margin:0 auto}

/* ============ NAV (BACK ONLY) ============ */
.back-nav{position:sticky; top:0; z-index:10; padding:1.2rem 2rem;}
.back-link{gap:.6rem}

/* ============ BUTTONS ============ */

.btn{
  display:inline-flex; align-items:center; justify-content:center; gap:.8rem;
  padding:1.2rem 1.8rem; border-radius:var(--radius-lg);
  font-weight:700; border:.1rem solid transparent; cursor:pointer; position:relative; overflow:hidden;
  transition:transform .18s ease, box-shadow .18s ease, background-color .2s ease, border-color .2s ease;
}
.btn:focus-visible{outline:.2rem solid var(--brand-600); outline-offset:.2rem}
.btn--primary{background:var(--brand-600); color:#fff; box-shadow:var(--shadow-md)}
.btn--primary:hover{background:var(--brand-500); transform:translateY(-.1rem)}
.btn--outline{border-color:var(--brand-600); color:var(--ink-900); background:#fff}
.btn--outline:hover{background:var(--muted-100); transform:translateY(-.1rem)}
.btn--ghost{background:transparent; border-color:transparent}
.btn .rip{position:absolute; border-radius:50%; transform:translate(-50%,-50%) scale(0); animation:rip .6s ease-out forwards; background:rgba(255,255,255,.45)}
@keyframes rip{to{transform:translate(-50%,-50%) scale(18); opacity:0}}

/* ============ HERO ============ */
.hero{position:relative; padding:2.4rem 0 2.4rem}
.hero__wrap{max-width:var(--container); margin:0 auto}
.hero__title{font-size:4rem; line-height:1.1; margin:0 0 1.2rem}
.hero__lead{font-size:1.8rem; color:var(--ink-600); margin:0 0 2.4rem}
.hero__cta{display:flex; flex-wrap:wrap; gap:1.2rem; margin:0 0 1.6rem}
.hero__bullets{display:flex; flex-wrap:wrap; gap:1.6rem; list-style:none; padding:0; margin:0; color:var(--ink-500)}
.hero__bullets li{background:#fff; border:.1rem solid var(--muted-300); border-radius:999rem; padding:.6rem 1.2rem}
.hero__art{position:absolute; inset:0; pointer-events:none}
.blob{position:absolute; filter:blur(60px); opacity:.5}
.blob--1{width:24rem;height:24rem; background:#a7f36b; top:-6rem; right:10%}
.blob--2{width:28rem;height:28rem; background:#d1f79d; bottom:-8rem; left:5%}

/* ============ BEFORE/AFTER ============ */
.before-after 
-title,.include .section-title,.pricing .section-title,.gallery .section-title,.steps .section-title,.cta .section-title{margin-left:auto;margin-right:auto;max-width:var(--container);padding:0 2rem}
.before-after .section-lead{margin-left:auto;margin-right:auto;max-width:78rem;padding:0 2rem}
.ba{
  position:relative; max-width:100rem; margin:2.4rem auto; aspect-ratio:16/9; border-radius:var(--radius-2xl);
  box-shadow:var(--shadow-lg); overflow:hidden; background:#dbe8d6;
}
.ba__pane{position:absolute; inset:0; background-size:cover; background-position:center}
.ba__pane--before{
  background-image:
    radial-gradient(120% 120% at 0% 0%, rgba(0,0,0,.25), transparent 50%),
    linear-gradient(135deg, #9aa7b1 0%, #b8c5cf 100%);
}
.ba__pane--after{
  clip-path:inset(0 0 0 50%);
  background-image:
    radial-gradient(120% 120% at 100% 0%, rgba(0,0,0,.18), transparent 50%),
    linear-gradient(135deg, #f7fff3 0%, #ffffff 40%, #e7ffe0 100%);
}
.ba__range{
  position:absolute; inset:auto 0 0 0; width:100%; -webkit-appearance:none; appearance:none; height:3.2rem; background:linear-gradient(90deg, rgba(112,208,9,.2), rgba(112,208,9,.5));
  border:none; outline:none; cursor:ew-resize;
}
.ba__range::-webkit-slider-thumb{-webkit-appearance:none; width:0; height:0}
.ba__handle{
  position:absolute; top:0; bottom:3.2rem; width:.2rem; left:50%; transform:translateX(-50%); background:#ffffff; box-shadow:0 0 0 .2rem rgba(0,0,0,.06);
}
.ba__handle span{
  position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); display:inline-flex; width:4rem; height:4rem; border-radius:50%;
  background:#fff; border:.2rem solid var(--brand-600); box-shadow:var(--shadow-md);
}
.ba__legend{display:flex; justify-content:space-between; max-width:100rem; margin:1.2rem auto 0; color:var(--ink-500); padding:0 1rem}

/* ============ FEATURES ============ */
.include .features{
  display:grid; grid-template-columns:repeat(3,1fr); gap:1.6rem;
  max-width:var(--container); margin:2.4rem auto; padding:0 2rem; list-style:none;
}
.feature{background:#fff; border:.1rem solid var(--muted-300); border-radius:var(--radius-xl); padding:1.6rem; box-shadow:var(--shadow-md)}
.feature h3{margin:0 0 .6rem; font-size:1.8rem; color:var(--ink-900)}
.feature p{margin:0; color:var(--ink-600)}

/* ============ PRICING ============ */
.pricing__grid{
  display:grid; grid-template-columns:repeat(2,1fr); gap:1.6rem;
  max-width:var(--container); margin:2.4rem auto; padding:0 2rem;
}
.price-card{background:#fff; border:.1rem solid var(--muted-300); border-radius:var(--radius-2xl); padding:2rem; box-shadow:var(--shadow-lg)}
.price-card__title{margin:0 0 .6rem; font-size:2.2rem}
.price-card__lead{margin:0 0 1.2rem; color:var(--ink-600)}
.price-card__price{font-size:2.4rem; font-weight:700; margin:0 0 1.2rem}
.price-card__list{margin:0 0 1.6rem; padding:0 0 0 1.6rem}
.price-card--alt{background:linear-gradient(180deg, #ffffff 0%, #f5fff0 100%)}
.pricing__note{max-width:var(--container); margin:0 auto; padding:0 2rem; color:var(--ink-500)}

/* ============ GALLERY ============ */
.gallery__grid{
  display:grid; grid-template-columns:repeat(2,1fr); gap:0.6rem;
  max-width:var(--container); margin:2.4rem auto; padding:0 2rem;
}
.card{
  height:16rem; border-radius:var(--radius-xl); background:
    linear-gradient(135deg, rgba(112,208,9,.1), rgba(112,208,9,.24)),
    linear-gradient(135deg, #edf7eb, #ffffff);
  border:.1rem solid var(--muted-300); box-shadow:var(--shadow-md);
  display:flex; align-items:flex-end; justify-content:flex-start; padding:1.2rem; color:var(--ink-700); font-weight:600;
}

/* ============ STEPS ============ */
.steps__list{
  counter-reset:step; list-style:none; max-width:var(--container); margin:2.4rem auto; padding:0 2rem; display:grid; gap:1.2rem;
}
.steps__list li{
  position:relative; padding:1.2rem 1.2rem 1.2rem 4.4rem; background:#fff; border:.1rem solid var(--muted-300); border-radius:var(--radius-xl); box-shadow:var(--shadow-md)
}
.steps__list li::before{
  counter-increment:step; content:counter(step);
  position:absolute; left:1.2rem; top:50%; transform:translateY(-50%);
  width:2.4rem; height:2.4rem; display:inline-grid; place-items:center; border-radius:50%;
  background:var(--brand-600); color:#fff; font-weight:700;
}

/* ============ CTA FORM ============ */
.cta .form{max-width:64rem; margin:2.4rem auto; background:#fff; border:.1rem solid var(--muted-300); border-radius:var(--radius-2xl); padding:2rem; box-shadow:var(--shadow-lg)}
.form__row{display:flex; flex-direction:column; gap:.6rem; margin:0 0 1.2rem}
.form__label{color:var(--ink-600)}
.form__control{
  padding:1.2rem 1.4rem; border:.1rem solid var(--muted-300); border-radius:var(--radius-lg);
  font-size:1.6rem; outline:none; background:#fff;
}
.form__control:focus{border-color:var(--brand-600); box-shadow:0 0 0 .3rem rgba(112,208,9,.15)}
.form__actions{display:flex; gap:1rem; flex-wrap:wrap; margin-top:.4rem}
.form__agree{color:var(--ink-500); font-size:1.4rem; margin:.6rem 0 0}

/* ============ REVEAL (IO) ============ */
.reveal{opacity:0; transform:translateY(1.2rem); transition:opacity .4s ease, transform .4s ease}
.reveal.is-visible{opacity:1; transform:none}

/* ============ MEDIA ============ */
@media (max-width: 62rem){
  .include .features{grid-template-columns:repeat(2,1fr)}
  .pricing__grid{grid-template-columns:1fr}
  .gallery__grid{grid-template-columns:repeat(2,1fr)}
}
@media (max-width: 36rem){
  .include .features{grid-template-columns:1fr}
  .gallery__grid{grid-template-columns:1fr}
  .hero__title{font-size:3.2rem}
}

.ba__pane{position:absolute; inset:0;}
.ba__pane picture{position:absolute; inset:0;}
.ba__img{display:block; width:100%; height:100%; object-fit:cover;}


.ba__handle{
  position:absolute; top:0; bottom:3.2rem; width:.2rem; left:50%;
  transform:translateX(-50%); background:#fff; box-shadow:0 0 0 .2rem rgba(0,0,0,.06);
  z-index:2; cursor:ew-resize; /* делаем перетаскиваемым визуально */
}
.ba__handle::before{
  /* хит-бокс шире линии, чтобы проще хватать мышью/пальцем */
  content:""; position:absolute; inset:0; transform:translateX(-50%);
  width:2.4rem; left:50%;
}
.ba__handle span{
  position:absolute; top:50%; left:50%; transform:translate(-50%,-50%);
  display:inline-flex; width:4rem; height:4rem; border-radius:50%;
  background:#fff; border:.2rem solid var(--brand-600); box-shadow:var(--shadow-md);
  pointer-events:none; /* чтоб не мешать перетаскиванию родителя */
}
.ba__range{ /* оставляем, но прячем визуально — управляем кодом */
  position:absolute; left:-999rem; width:0; height:0;
}
.ba.dragging { user-select:none; cursor:ew-resize; }

/* ==== Gallery (живые тайлы + лайтбокс) ==== */
.gallery__grid{
  display:grid; grid-template-columns:repeat(2,1fr); gap:0.6rem;
  max-width:var(--container); margin:2.4rem auto; padding:0 2rem;
}
@media (max-width:62rem){ .gallery__grid{ grid-template-columns:repeat(2,1fr); } }
@media (max-width:36rem){ .gallery__grid{ grid-template-columns:1fr; } }

.gcard{
  position:relative; border-radius:var(--radius-xl); overflow:hidden;
  background:#eef6e8; border:.1rem solid var(--muted-300); box-shadow:var(--shadow-md);
  transform:translateZ(0); will-change:transform, box-shadow; transition:transform .25s ease, box-shadow .25s ease;
}
.gcard:hover{ transform:translateY(-.2rem) scale(1.01); box-shadow:var(--shadow-lg); }

.gmedia{ position:relative; aspect-ratio:16/9; }
.gmedia picture, .gmedia img{ position:absolute; inset:0; width:100%; height:100%; object-fit:cover; display:block; }
.gimg{ filter:saturate(1.02) contrast(1.02); }

.gcap{
  position:absolute; inset:auto .8rem .8rem .8rem;
  display:flex; align-items:center; justify-content:space-between; gap:1rem;
  padding:.8rem 1rem; border-radius:999rem;
  background:rgba(255,255,255,.8); backdrop-filter:blur(.6rem); border:.1rem solid var(--muted-300);
}
.gcap__title{ font-weight:700; color:var(--ink-700); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.gcap__btn{ padding:.6rem 1rem; }

.glightbox[hidden]{ display:none; }
.glightbox{
  position:fixed; inset:0; background:rgba(10,16,22,.8); z-index:1000; display:grid; place-items:center; padding:2rem;
}
.glightbox__figure{ max-width:min(96vw, 120rem); max-height:86vh; margin:0; display:grid; gap:1rem; }
.glightbox__img{ max-width:100%; max-height:80vh; border-radius:var(--radius-xl); box-shadow:var(--shadow-lg); display:block; }
.glightbox__cap{ color:#e5f5db; text-align:center; }

.glightbox__close{
  position:fixed; top:1.6rem; right:1.6rem; width:3.2rem; height:3.2rem;
  border-radius:50%; border:.1rem solid #fff; background:transparent; color:#fff; font-size:2rem; cursor:pointer;
}
.glightbox__nav{
  position:fixed; top:50%; transform:translateY(-50%); width:3.2rem; height:3.2rem;
  border-radius:50%; border:.1rem solid #fff; background:transparent; color:#fff; font-size:2rem; cursor:pointer;
}
.glightbox__prev{ left:1.6rem; }
.glightbox__next{ right:1.6rem; }

/* общий внутренний контейнер для секций */
.section__inner{
  max-width: var(--container);
  margin: 0 auto;
  padding: 0 2rem;
}

/* слайдер занимает всю доступную ширину контейнера и не «выпрыгивает» */
.ba{
  width: 100%;
  max-width: 100%;
  margin: 2.4rem 0;
  border-radius: var(--radius-2xl);
  overflow: hidden;
}

/* чтобы подписи тоже шли по сетке контейнера */
.ba__legend{ padding: 0 0; }

.before-after .section-title,
.before-after .section-lead,
.before-after .ba__legend{
  max-width: var(--container);
  margin-left: auto;
  margin-right: auto;
  padding: 0 2rem;
}
.before-after .ba{
  max-width: var(--container);
  margin-left: auto;
  margin-right: auto;
}


